# Поток исполнения

## Запуск компонента knowledge

1. Из какого-нибудь хранилища достать записи/группы/темы/области.
1. Из какого-нибудь хранилища достать права доступа.
1. Пройтись по всем данным и собрать расширенные записи. Там должен быть более
   полный набор тегов, более подробное описание и тому подобное. Они получаются
   как комбинация запись + группа + тема + область. Также у них должны быть
   прописаны расширенные права доступа, с учётом ограничений указанных
   сущностей.
1. Собрать вспомогательные компоненты и статистику по ним.

### После старта, мы должны иметь

1. Отображение со статистикой. Отдельный экземпляр класса статистики должен
   быть рассчитан для группы, темы и области.
1. Отображение с синонимами. Синонимы должны быть для темы и области.
1. Отображение со скрытыми тегами. Теги должны быть для темы и области.
1. Поисковый индекс с соответствием область -> uuid записей.
1. Поисковый индекс с соответствием тема -> uuid записей.
1. Поисковый индекс с соответствием тег -> uuid записей.
1. Поисковый индекс с правами доступа вида ключ -> uuid записей.

Важно иметь в виду, что после сборки индекса экземпляры записей, как обычные,
так и расширенные будут уничтожены. Получение подробностей потребует сходить в
базу данных.