# Формат исходных данных

Эталонная структура **source.json**:

```json
{
    "realms": [],
    "themes": [],
    "groups": [],
    "metas": [],
    "users": []
}
```

Все разделы и большая часть полей опциональны. Система сама постарается
додумать, если что-то пропущено.

Каждый из разделов отвечает за создание своих сущностей. Основная идея работы с
Omoide - никогда ничего не править в базе руками и работать только через эти
исходные файлы. Предполагается, что в любой момент базу данных можно удалить и
накатить заново используя каталог сырых данных.

В процессе обработки данных, приходится уделять очень много времени на
генерацию уникальных идентификаторов, а также их связывание между собой.
Исходные файлы выступают в качестве шаблонов, в которых реализована примитивная
работа с переменными.

## Раздел realms

Здесь задаются области, например личные каталоги пользователя или очень большие
тематические разделы. Эталонная область - public, включающая в себя всё, что не
требует регистрации для просмотра.

## Раздел themes

Здесь задаются темы в рамках одной области.

## Раздел groups

Здесь задаются группы в рамках одной темы. Для каждой темы обязательно должна
быть создана одна специальная группа, в которую будут входить материалы не
принадлежащие ни к какой из других групп.

## Раздел metas

Здесь описываются мета записи, которые не принадлежат ни к одной из групп.

## Раздел users

Здесь описываются новые пользователи и их параметры.

## Работа с переменными

Предполагается, что всю базу данных можно снести и накатить заново. Но в этом
случае будут обновлены все уникальные идентификаторы. Чтобы не потерять связь
между ними, их можно связать переменными.

```json
{
    "realms": [
        {
            "uuid": "$r_1",
            "route": "..."
        }
    ]
}
```