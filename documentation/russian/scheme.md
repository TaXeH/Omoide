# Схема базы данных

Omoide устроен не как обычное приложение. База данных используется как
вторичный механизм и большую часть времени вообще не требуется. Поиск
производится по структурам в памяти.

База данных состоит из двух главных компонентов:

1. Статические компоненты.
2. Динамические компоненты.

## Статические компоненты

Это перечень таблиц, доступных пользователю, загружающему данные и недоступных
для пользователя приложения. Работа с ними идёт только на этапе загрузки новых
данных. Хранящаяся в них информация будет использована для формирования
динамических компонент.

Перечень таблиц:

1. **realms** - сборник всех областей, принадлежащих пользователям.
1. **themes** - сборник всех тем во всех областях.
1. **groups** - сборник всех групп во всех темах.
1. **metas** - сборник всех исходных записей.
1. **realm_tags** - сборник всех тегов областей.
1. **theme_tags** - сборник всех тегов тем.
1. **group_tags** - сборник всех тегов групп.
1. **meta_tags** - сборник всех тегов записей.
1. **metas_to_groups** - соответствие записей группам.
1. **implicit_tags** - сборник всех скрытых тегов.
1. **implicit_tags_to_themes** - соответствие скрытых тегов темам.
1. **synonyms** - сборник всех синонимов.
1. **synonyms_to_themes** - соответствие синонимов темам.
1. **permissions_realms** - требуемые доступы для областей.
1. **permissions_themes** - требуемые доступы для тем.
1. **permissions_groups** - требуемые доступы для групп.
1. **permissions_metas** - требуемые доступы для записей.
1. **permissions_users** - выданные доступы для пользователей.
1. **users** - сборник всех пользователей. Не то же самое, что пользователи
   сайта.

## Динамические компоненты

Оптимизированные, расширенные и отсортированные данные, которые были получены
путём обработки статических компонент. Приложение пользуется только этими
данными, оно ничего не знает про статические компоненты.

Перечень таблиц:
<TODO>
